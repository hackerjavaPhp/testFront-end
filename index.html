<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Hello React</title>
    <link rel="stylesheet" type="text/css" href="bower_components/bootstrap/dist/css/bootstrap-theme.min.css"/>
    <link rel="stylesheet" type="text/css" href="bower_components/bootstrap/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <link rel="stylesheet" type="text/css" href="css/main.css"/>
</head>
<body>
    <div id="app"></div>
     
    <script src = "bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script crossorigin src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.25.0/babel.min.js"></script>
    <script type="text/babel">
    {/*dataJSON*/}


  {/*this function simply  data JSON*/}
    var dataJSON = '[{"id":406,"firstName":"Kerrissa","lastName":"Klein","email":"DPitzel@pulvinar.ly","phone":"(904)627-7261","address":{"streetAddress":"4808 Scelerisque Ct","city":"Oklahoma","state":"DE","zip":"45603"},"description":"amet sit orci scelerisque vitae sed at lorem aliquam vestibulum tempor pulvinar aliquam amet elit sit porta id curabitur suspendisse magna magna amet sit massa hendrerit orci lacus vel convallis dui dolor"},{"id":211,"firstName":"Miyanda","lastName":"Weissmann","email":"NWuertz@odio.net","phone":"(482)210-3646","address":{"streetAddress":"4630 Amet Ave","city":"East Boston","state":"NE","zip":"59589"},"description":"pulvinar neque tortor vitae ipsum nullam magna eget vel eros placerat scelerisque libero sagittis lacus molestie convallis sed fringilla turpis tincidunt pulvinar massa nunc tortor tortor vestibulum vitae sollicitudin pharetra lacus lacus"},{"id":169,"firstName":"Rhonda","lastName":"Ortega","email":"HMccollum@id.gov","phone":"(732)819-8655","address":{"streetAddress":"9222 Nunc St","city":"San Antonio","state":"KY","zip":"23503"},"description":"sollicitudin elementum lectus magna massa neque pulvinar amet tortor mattis nec mi rutrum velit non ac id adipiscing vestibulum lorem sed amet magna aliquam vitae eget ac sapien ante hendrerit placerat lacus"},{"id":784,"firstName":"Evan","lastName":"Oliva","email":"JNey@sollicitudin.net","phone":"(446)188-1797","address":{"streetAddress":"5667 Lorem St","city":"Huntsville","state":"OR","zip":"69496"},"description":"orci porttitor magna sed magna turpis ipsum tortor amet dui quis tempor tortor consectetur nec facilisis ac amet hendrerit tortor etiam vestibulum vel sapien placerat mattis mattis porta aliquam non tellus sed"},{"id":782,"firstName":"Edwin","lastName":"Covel","email":"YScott@odio.net","phone":"(201)532-7939","address":{"streetAddress":"2644 Sit Dr","city":"Winters","state":"UT","zip":"75809"},"description":"sit lacus vitae tellus vitae augue sit pulvinar sagittis eros etiam suspendisse pretium malesuada amet placerat tortor morbi mi risus sit vitae id vel tellus et pulvinar magna etiam et risus vestibulum"},{"id":116,"firstName":"Shoba","lastName":"Schuster","email":"BBarowsky@hendrerit.ly","phone":"(360)251-0863","address":{"streetAddress":"4596 Massa Ln","city":"Indy","state":"FL","zip":"33831"},"description":"sapien adipiscing elementum lacus sed odio massa pharetra sagittis quis sit suspendisse tincidunt neque augue facilisis consequat sit malesuada porta pharetra odio placerat turpis aliquam adipiscing suspendisse pharetra aliquam nec suspendisse rutrum"},{"id":297,"firstName":"Aminata","lastName":"Reese","email":"AMawyer@placerat.net","phone":"(175)034-9362","address":{"streetAddress":"3796 Curabitur Rd","city":"Cuyahoga Falls","state":"WY","zip":"20417"},"description":"pharetra amet sit dolor mattis consectetur porttitor sed velit tortor risus consequat magna lacus elementum aliquam id magna suspendisse tincidunt elit sapien in eros dolor tincidunt neque ante lorem malesuada lacus dolor"},{"id":649,"firstName":"Shoba","lastName":"Tang","email":"DShafer@et.org","phone":"(819)898-1584","address":{"streetAddress":"9673 Lorem Ave","city":"Ft Myers","state":"ND","zip":"27180"},"description":"malesuada nec magna ipsum lacus vel pharetra massa placerat lorem amet quis elementum in vestibulum risus consectetur aenean vel porttitor dolor vitae tincidunt eget ipsum vestibulum rutrum sagittis aliquam neque adipiscing tortor"},{"id":538,"firstName":"Kofi","lastName":"Koprowski","email":"MDority@vestibulum.io","phone":"(495)882-5617","address":{"streetAddress":"142 Tincidunt Ln","city":"El Paso","state":"MD","zip":"68897"},"description":"ac sit at lectus sed id tortor turpis amet tortor id placerat libero amet etiam tincidunt nec sapien nunc tincidunt mi dolor magna at libero dolor consectetur odio facilisis libero nullam tortor"},{"id":206,"firstName":"Tobias","lastName":"Warren","email":"RComeau@sed.com","phone":"(669)628-5333","address":{"streetAddress":"9241 Vestibulum Rd","city":"Rahway","state":"NE","zip":"67274"},"description":"sit pharetra velit pulvinar neque mi quis ipsum lacus sollicitudin lacus sagittis egestas et at facilisis vitae amet ipsum dolor fringilla lacus orci adipiscing lacus rutrum lacus mi suspendisse mi sed nec"},{"id":704,"firstName":"Saowalak","lastName":"Castrucci","email":"APaderanga@sed.com","phone":"(792)033-8934","address":{"streetAddress":"6319 Porttitor Rd","city":"Lancaster","state":"MT","zip":"39305"},"description":"turpis consequat pretium velit aliquam quis velit pretium lacus lacus tellus ante massa adipiscing dolor pharetra sed egestas et sollicitudin nullam odio consequat et porttitor donec et vestibulum orci sed sed sed"},{"id":55,"firstName":"Maya","lastName":"Bondy","email":"LTempleman@mi.com","phone":"(897)886-1240","address":{"streetAddress":"663 Aenean Dr","city":"Nauvoo","state":"HI","zip":"37828"},"description":"curabitur id turpis sit adipiscing massa tempor non sapien malesuada tortor sit velit mattis nec sapien pharetra scelerisque sed etiam nec id sit risus sed sollicitudin dui libero scelerisque ac nullam vestibulum"},{"id":917,"firstName":"Gabriel","lastName":"Rannila","email":"CWong@eros.gov","phone":"(412)548-5010","address":{"streetAddress":"8712 Nunc Ave","city":"Boston","state":"HI","zip":"98002"},"description":"fringilla turpis mattis elementum elementum dolor odio amet magna magna etiam at dui tempor donec sit quis tincidunt elit sagittis sed curabitur quis orci sed pulvinar quis velit rutrum consectetur porttitor placerat"},{"id":860,"firstName":"Byron","lastName":"Howell","email":"VSantos@odio.gov","phone":"(580)353-3556","address":{"streetAddress":"8890 Hendrerit Ave","city":"Tinley Park","state":"WV","zip":"28283"},"description":"et lacus placerat dolor mi tincidunt at pulvinar ipsum vel vestibulum curabitur sed sed libero vel placerat mattis mattis neque lectus mattis dui vitae aliquam et tellus et velit dolor morbi velit"},{"id":785,"firstName":"Sandra","lastName":"Pickett","email":"NWhatley@sit.com","phone":"(264)055-1895","address":{"streetAddress":"4524 Ante Rd","city":"Seaside","state":"ID","zip":"58814"},"description":"eros amet lacus placerat mattis ipsum sapien massa tortor dui lacus porta vitae hendrerit adipiscing dolor etiam hendrerit sagittis vel placerat odio suspendisse lorem in elit sed non donec sed ac aliquam"},{"id":384,"firstName":"Candis","lastName":"Batrouny","email":"RPeszynski@consequat.io","phone":"(687)305-7355","address":{"streetAddress":"9674 Molestie Rd","city":"Vancouver","state":"DC","zip":"95535"},"description":"amet at sed pulvinar aliquam sed lectus molestie sollicitudin nullam et ac lacus nullam sit nunc tortor massa at pharetra ipsum suspendisse sapien sit aenean orci suspendisse sed sed non massa donec"},{"id":61,"firstName":"Irene","lastName":"Chase","email":"JCharleston@at.com","phone":"(264)101-7149","address":{"streetAddress":"9731 Orci Dr","city":"Issaquah","state":"ID","zip":"48719"},"description":"rutrum in orci morbi at pulvinar quis in tortor molestie amet amet lacus aliquam ante odio nec sollicitudin massa porta vel aliquam tincidunt mattis sit elit ac magna vel massa magna elementum"},{"id":31,"firstName":"Kaiti","lastName":"Rodenberger","email":"JMartens@odio.org","phone":"(502)296-6993","address":{"streetAddress":"4464 Morbi Ln","city":"Piedmont","state":"WI","zip":"56860"},"description":"lacus hendrerit morbi tortor lectus placerat nunc curabitur mi sollicitudin pharetra aenean porta amet ante mattis amet lorem sollicitudin sed aliquam mi suspendisse pulvinar mattis molestie ipsum hendrerit ac facilisis tellus amet"},{"id":832,"firstName":"Latina","lastName":"Belched","email":"SPonthieux@id.org","phone":"(643)495-1967","address":{"streetAddress":"5636 Quis Rd","city":"Bloomingdale","state":"OR","zip":"81339"},"description":"sapien morbi sed orci rutrum sed consectetur velit consectetur turpis convallis sollicitudin sit massa tellus suspendisse mattis neque elit dolor aliquam at sollicitudin sit vitae sollicitudin sagittis nec fringilla sed et elementum"},{"id":131,"firstName":"Tighe","lastName":"Lee","email":"RMiller@porttitor.ly","phone":"(726)104-3672","address":{"streetAddress":"8374 Risus Ave","city":"Fort Bragg","state":"ME","zip":"33311"},"description":"sed tortor dolor quis sed nullam lectus scelerisque nec lacus dui vestibulum et aliquam amet magna ipsum pulvinar at massa libero dolor sed risus lacus elementum convallis nullam neque odio ipsum dolor"},{"id":633,"firstName":"Clint","lastName":"Fenton","email":"PBaligian@non.com","phone":"(315)976-3386","address":{"streetAddress":"8668 Tincidunt Ln","city":"Peoria","state":"OH","zip":"36892"},"description":"lectus lacus velit fringilla odio dolor aenean vitae rutrum ipsum pharetra vitae vestibulum aliquam egestas facilisis pharetra magna sit orci ipsum dolor pulvinar sapien placerat massa massa lacus ipsum hendrerit ac facilisis"},{"id":663,"firstName":"Jayne","lastName":"Sovine","email":"HKornation@suspendisse.net","phone":"(158)502-5396","address":{"streetAddress":"1793 Tempor St","city":"Simi Valley","state":"AL","zip":"66314"},"description":"ipsum sed consequat dolor vel malesuada dolor scelerisque ac magna placerat ac porta placerat at lacus in placerat risus dolor dolor lectus pharetra aliquam dolor hendrerit porta vel dui vestibulum placerat nec"},{"id":649,"firstName":"Brigido","lastName":"Neff","email":"AAltschuler@malesuada.io","phone":"(675)308-5656","address":{"streetAddress":"4874 Hendrerit St","city":"South Denver","state":"FL","zip":"27757"},"description":"facilisis at porttitor odio vestibulum adipiscing lacus sapien suspendisse suspendisse facilisis orci at id vestibulum tempor tortor pulvinar vestibulum elementum porta tincidunt consectetur adipiscing tincidunt mattis elementum consequat libero malesuada nec dolor"},{"id":402,"firstName":"Larisa","lastName":"Solomon","email":"SRoos@aliquam.ly","phone":"(224)349-3002","address":{"streetAddress":"2239 Magna St","city":"Cypress","state":"MA","zip":"92540"},"description":"non vestibulum ante nullam elementum eget tortor odio elit pretium lacus ac mi lacus sit eget libero augue amet quis donec morbi ante sollicitudin tempor elit orci id molestie id aliquam aliquam"},{"id":642,"firstName":"Byron","lastName":"Wahl","email":"KKuhl@ipsum.net","phone":"(736)300-0881","address":{"streetAddress":"9373 Vitae Dr","city":"Pharr","state":"UT","zip":"68296"},"description":"scelerisque tincidunt tincidunt vitae curabitur odio eros sed consequat nunc placerat aliquam vitae consequat quis tortor sagittis vitae ac vestibulum tincidunt nunc molestie scelerisque rutrum amet aliquam lacus magna aenean sit augue"},{"id":423,"firstName":"Jeff","lastName":"Vanessen","email":"LLiso@sit.ly","phone":"(786)665-9094","address":{"streetAddress":"517 Vitae Rd","city":"Brick","state":"CA","zip":"24591"},"description":"massa amet morbi placerat elementum tortor placerat sed morbi augue nullam molestie morbi libero lacus id libero id ipsum tortor sit etiam sollicitudin sit aliquam sed aliquam amet massa ac magna rutrum"},{"id":668,"firstName":"Nona","lastName":"Aresti","email":"LFrame@amet.com","phone":"(408)044-7337","address":{"streetAddress":"5257 Magna Ct","city":"Pawleys Island","state":"NE","zip":"28662"},"description":"tortor lectus pharetra sed egestas donec dui lacus magna ipsum tortor malesuada lacus sollicitudin porta at elit et ipsum hendrerit convallis porttitor vestibulum porttitor ac amet dolor pulvinar convallis vitae tellus magna"},{"id":11,"firstName":"Ernest","lastName":"Gentenaar","email":"TKelley@magna.org","phone":"(390)851-4949","address":{"streetAddress":"8266 Fringilla Ct","city":"Columbus","state":"AR","zip":"14879"},"description":"scelerisque lectus lacus sollicitudin eros quis id nunc mattis massa pretium scelerisque porta adipiscing eget sollicitudin scelerisque turpis magna massa magna tortor consectetur ac convallis morbi nunc orci lectus ac vitae elit"},{"id":777,"firstName":"Jacob","lastName":"Gonshor","email":"GPomykala@at.io","phone":"(722)128-2042","address":{"streetAddress":"6208 Curabitur St","city":"Modesto","state":"LA","zip":"34083"},"description":"tortor vel rutrum at libero non orci massa molestie pharetra vestibulum velit ipsum lectus orci dui vel ac dui eros lacus at vestibulum vel sit ipsum magna nullam sapien eros facilisis sed"},{"id":260,"firstName":"Cely","lastName":"Cox","email":"JCabrera@libero.net","phone":"(898)243-0841","address":{"streetAddress":"1757 Sagittis St","city":"Streamwood","state":"VA","zip":"45937"},"description":"magna ipsum nunc amet velit consequat vitae tempor sed sapien vitae amet egestas lacus et hendrerit consectetur suspendisse vestibulum nec consectetur eget vel libero magna sollicitudin in odio massa sed lacus aliquam"},{"id":470,"firstName":"Marek","lastName":"Mueske","email":"HParham@vestibulum.net","phone":"(408)354-6554","address":{"streetAddress":"6364 Aenean St","city":"Saint Pauls","state":"WY","zip":"44610"},"description":"nec rutrum consectetur elementum hendrerit consequat elementum ipsum elit lectus dolor placerat donec augue magna tincidunt tortor non tortor pharetra tempor vestibulum in aliquam pulvinar pulvinar nec vestibulum curabitur pulvinar consequat vestibulum"},{"id":440,"firstName":"Milton","lastName":"Vickers","email":"IPfeifer@morbi.net","phone":"(880)353-6727","address":{"streetAddress":"9898 Aliquam St","city":"Manchester","state":"CA","zip":"46297"},"description":"vestibulum curabitur sagittis hendrerit mi consequat neque in turpis nec sagittis tortor etiam at rutrum consequat nullam facilisis rutrum amet donec sollicitudin curabitur sollicitudin non et aliquam morbi quis magna et adipiscing"}]';
        dataJSON = JSON.parse(dataJSON);








    function SelectionSort(A)       // A - массив, который нужно
    {                               // отсортировать по возрастанию.
        var n = A.length;
        for (var i = 0; i < n-1; i++)
         { var min = i;
           for (var j = i+1; j < n; j++)
            { if (A[j] < A[min]) min = j; } 
           var t = A[min]; A[min] = A[ i ]; A[ i ] = t;
         }                    
        return A;    // На выходе сортированный по возрастанию массив A.
    }    




   function goodArrayPrayTS(data){

      var numberArray = [],
          arrayObj = [];

      for(var i = 0; i < data.length; i++){

        numberArray.push(data[i].id);

      }


    {/*st 41*/}
      numberArray = SelectionSort(numberArray);


      for(var i = 0; i < numberArray.length; i++){
        for(var n = 0 ; n < dataJSON.length; n++){

          if(numberArray[i] == dataJSON[n].id){
              
            arrayObj.push(dataJSON[n]);

          }

        }

      }

      return arrayObj.reverse();

    }   




    function goodArrayPray(data){

      var numberArray = [],
          arrayObj = [];

      for(var i = 0; i < data.length; i++){

        numberArray.push(data[i].id);

      }


    {/*st 41*/}
      numberArray = SelectionSort(numberArray);


      for(var i = 0; i < numberArray.length; i++){
        for(var n = 0 ; n < dataJSON.length; n++){

          if(numberArray[i] == dataJSON[n].id){
              
            arrayObj.push(dataJSON[n]);

          }

        }

      }

      return arrayObj;

    }    


    var arrayJSON_W = (goodArrayPray(dataJSON)),
        arrayJSON_W_TS = (goodArrayPrayTS(dataJSON))









{/*----------------------------------------------------------- REACT.JS ---------------------------------------------------------*/}













      {/*header*/}
      class Header_Block extends React.Component{

        render(){
          
          return (

            <header class = "bg-header">
              <div class = "container">
                <div class = "row">
                  <div class = "col-lg-12">
                    <h1 class = "text-center text-title1-def">Тестовое задание на позицию frontend разработчика</h1>
                    <h3 class = "text-center text-title3-def">Функционал</h3>
                    <ul>
                      <li class = "bg-header-l">Сортировка по столбцам: при нажатии на название столбца строки таблицы сортируются по возрастанию, при повторном клике — по убыванию. Графическим элементом или текстовым сообщением указывается направление сортировки. <span class = "plus">+</span></li>
                      <li class = "bg-header-l">Клиентская пагинация: данные необходимо отображать постранично, максимум 50 элементов на страницу. Необходимо предоставить пользовательскую навигацию для перехода по страницам <span class ="not">-</span></li> 
                      <li class = "bg-header-l">Фильтрация: компонент предоставляет текстовое поле, в которое пользователь может ввести текст и строки таблицы, данные которых не содержат подстроку, введённую пользователем, скрываются. Перефильтрация осуществляется по нажатию на кнопку "Найти". (Решил переделать и сделать поиск не по кнопке а по событию клавиатуры, по мне более хорошое решение)<span class = "plus">+</span></li>
                      <li class = "bg-header-l">По клике на строку таблицы значения полей выводятся в дополнительном блоке под таблицей</li>
                      <li class = "bg-header-l">Данные в таблицу загружаются с сервера. Способ загрузки с сервера на ваш выбор. <span class ="not">-</span></li>
                    </ul>
                  </div>
                </div>
              </div>
            </header>

          );

        }
      }

    {/*table*/}
      class Tabel_app extends React.Component{

        constructor(props) {
                super(props);
                this.state = {showList: true, numberAt: ""};

                this.press = this.press.bind(this);
                this.changeD = this.changeD.bind(this);
        }

        press(){
          this.setState({showList: !this.state.showList});
        }

 
        changeD(event){
          var elem = event.target.value;
              this.setState({numberAt: elem});
        }

        render(){

         var arrReturn,
             commandAr,
            reg = (this.state.numberAt);
        

         if(this.state.showList){
            arrReturn =  arrayJSON_W_TS.map(function(e){
                            commandAr = "по убыванию";
          
                                    if(e.firstName.toLowerCase().search(reg.toLowerCase()) != -1)
                                    {

                                        return <Table_block_tr id = {e.id} firstName = {e.firstName} lastName = {e.lastName} email = {e.email} phone = {e.phone}/>

                                    }
                                
           })
         }else{
                            commandAr = "по возрастанию";
             arrReturn =  arrayJSON_W.map(function(e){

                          if(e.firstName.toLowerCase().search(reg.toLowerCase()) != -1)
                            {
                                return <Table_block_tr id = {e.id} firstName = {e.firstName} lastName = {e.lastName} email = {e.email} phone = {e.phone}/>
                            }
           })
         }


          return (
            <section class = "app-search">
              <div class = "container">
                <div class = "row">
                  <div class = "col-lg-12">
                    <input class="app-search-inp col-xs-12" onChange = {this.changeD} type = "text" placeholder = "Поиск"/>
                    <table class = "table">
                     <thead>
                        <tr>
                            <td class="btn btn-primary btn-sm" onClick = {this.press}>id:{commandAr}</td>
                            <td>{this.props.firstName}</td>
                            <td>{this.props.firstName}</td>
                            <td>{this.props.firstName}</td>
                            <td>{this.props.email}</td>
                        </tr>
                      </thead>
                      <tbody>
                          
                          {
                             arrReturn
                          }
                          
                         
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
              </section>
            );
        }
      }





      class Table_block_tr extends React.Component{
         render(){
          return (

                  <tr>
                      
                      <td>{this.props.id}</td>
                      <td>{this.props.firstName}</td>
                      <td>{this.props.lastName}</td>
                      <td>{this.props.email}</td>
                      <td>{this.props.phone}</td>
                      


                  </tr>

            );
        }
      }  



    {/*footer*/}
      class Footer_Block extends React.Component{
         render(){
          return (
              <footer class = "bg-footer">
                <div class = "container">
                  <div class = "row">
                     <div class = "col-lg-12">
                        <h3 class = "text-center text-title3-def">Спасибо, что уделили мне время.</h3>
                        <p class = "text-contact text-center">
                         <span class=" glyphicon glyphicon-cog fa-spin"></span> Мой тел :  + 7 (926) 550-46-85 <span class=" glyphicon glyphicon-cog fa-spin"></span>
<br/>
                           <span class=" glyphicon glyphicon-cog fa-spin"></span> Мой вк : vk.com/id451751765 <span class=" glyphicon glyphicon-cog fa-spin"></span> <br/>
                            <span class=" glyphicon glyphicon-cog fa-spin"></span> github : github.com/hackerjavaPhp <span class=" glyphicon glyphicon-cog fa-spin"></span> <br/>
                            <span class=" glyphicon glyphicon-cog fa-spin"></span> Жалко, что не все успел =( <span class=" glyphicon glyphicon-cog fa-spin"></span> <br/>
                        </p>
                     </div>
                  </div>
                </div>
              </footer>
            );
        }
      }


         
       ReactDOM.render(
          <div>
            <Header_Block/>
            <Tabel_app firstName="Имя" lastName="Фамилия" email="Email" phone="Телефон"/>
            <Footer_Block/>
          </div>
           ,
           document.getElementById("app")
       )
    </script>
</body>
</html>